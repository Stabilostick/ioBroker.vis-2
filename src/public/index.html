<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
  <head>
    <title>Editor.vis</title>
    <meta charset="utf-8" />
    <link rel="shortcut icon" href="%PUBLIC_URL%/faviconEdit.ico" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="theme-color" content="#000000" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />

    <link rel="stylesheet" type="text/css" href="./lib/css/jquery.multiselect-1.13.css" />

    <script type="text/javascript" src="./lib/js/jquery-1.11.2.min.js"></script>
    <script type="text/javascript" src="./lib/js/jquery-ui-1.11.4.full.min.js"></script>
    <script type="text/javascript" src="./lib/js/can.custom.js"></script>
    <script type="text/javascript" src="./lib/js/jquery.multiselect-1.13.min.js"></script>
    <script type="text/javascript" src="./lib/js/quo.standalone.js"></script>
    <script type="text/javascript" src="_socket/info.js"></script>
    <script type="text/javascript" src="config.js"></script> <!-- this file must be before vis.js -->
    <script>
      // window.apiUrl = 'http://localhost:3009'; // Marketplace server
      // window.webPrefix = ''; // Prefix for marketplace client
      // window.marketplaceClient = 'http://localhost:3002';
      window.apiUrl = 'https://iobroker.net'; // Marketplace server
      window.webPrefix = '/market'; // Prefix for the marketplace client
      window.marketplaceClient = 'https://iobroker.net/market';
      window.vendorPrefix = window.vendorPrefix || '@@vendorPrefix@@';
      window.disableDataReporting = window.disableDataReporting || '@@disableDataReporting@@';
      window.loadingBackgroundColor = window.loadingBackgroundColor || '@@loadingBackgroundColor@@';
      window.loadingBackgroundImage = window.loadingBackgroundImage || '@@loadingBackgroundImage@@';
      window.loadingHideLogo = window.loadingHideLogo || '@@loadingHideLogo@@';
    </script>
    <script>
      var script = document.createElement('script');
      window.registerSocketOnLoad = function (cb) {
        window.socketLoadedHandler = cb;
      };
      script.onload = function () {
        typeof window.socketLoadedHandler === 'function' && window.socketLoadedHandler();
      };
      setTimeout(() => {
        script.src = window.location.port.startsWith('300') ? window.location.protocol + '//' + window.location.hostname + ':8082/lib/js/socket.io.js' : '%PUBLIC_URL%/../../lib/js/socket.io.js';
      }, 1000);

      document.head.appendChild(script);
    </script>
    <!--script type="text/javascript" src="%PUBLIC_URL%/../../socket.io/socket.io.js"></script-->
  </head>
  <body>
  <div id="root"></div>
  </body>
  <script>
    // set background as early as possible
    var themeType = window.localStorage.getItem('Editor.themeType');
    themeType = themeType || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
    if (themeType === 'dark') {
      window.document.body.className += 'body-dark';
    } else {
      window.document.body.className += 'body-light';
    }
  </script>
</html>
